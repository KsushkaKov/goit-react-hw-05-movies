{"version":3,"file":"static/js/530.a05d78fa.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/TrendList/TrendList.module.css?2aa8","components/TrendList/TrendList.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies.module.css?d157","pages/Movies.jsx","servise/api/appi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"TrendList_wrapper__1weW+\",\"movieList\":\"TrendList_movieList__zYZHD\",\"movieTitle\":\"TrendList_movieTitle__DS7YU\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './TrendList.module.css';\n\nexport const TrendList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <div className={css.wrapper}>\n      <ul>\n        {movies.map(movie => (\n          <li key={movie.id} className={css.movieList}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.movieTitle}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Movies_Searchbar__x0Q8w\",\"SearchForm\":\"Movies_SearchForm__wjo2h\",\"SearchFormButton\":\"Movies_SearchFormButton__8YSXn\",\"SearchFormButtonLabel\":\"Movies_SearchFormButtonLabel__wEI6R\",\"SearchFormInput\":\"Movies_SearchFormInput__bFrPB\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\nimport { searchMovies } from 'servise/api/appi';\nimport { TrendList } from 'components/TrendList/TrendList';\nimport { toast } from 'react-toastify';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchedMovies, setSearchMovies] = useState([]);\n  const [error, setError] = useState('');\n\n  const movieName = searchParams.get('query');\n  useEffect(() => {\n    if (!movieName) return;\n    const fetchQuery = async () => {\n      setError('');\n      try {\n        const query = await searchMovies(movieName);\n        setSearchMovies(query);\n      } catch (error) {\n        setError('Something went wrong');\n      }\n    };\n    fetchQuery();\n  }, [movieName]);\n\n  useEffect(() => {\n    if (!error) return;\n    toast.error(error);\n  }, [error]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams({ query: event.target.elements.searchMovie.value });\n\n    event.target.reset();\n  };\n  return (\n    <>\n      <div className={css.Searchbar}>\n        <form className={css.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchMovie\"\n            autoFocus\n            placeholder=\"Search movie\"\n          />\n        </form>\n      </div>\n      {searchedMovies.length > 0 && <TrendList movies={searchedMovies} />}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '?api_key=5cd5057c4af6e141ba56402bbaa2cf00';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getTrending = async () => {\n  const { data } = await axios.get(`/trending/movie/day${API_KEY}`);\n  return data.results.map(({ id, title }) => {\n    return {\n      id,\n      title,\n    };\n  });\n};\nexport const searchMovies = async inputQuery => {\n  const { data } = await axios.get(\n    `search/movie${API_KEY}&query=${inputQuery}&language=en-US&page=1`\n  );\n  return data.results.map(({ id, title }) => {\n    return {\n      id,\n      title,\n    };\n  });\n};\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/credits${API_KEY}&language=en-US`\n  );\n  return data.cast.map(({ name, character, profile_path, id }) => {\n    return {\n      name,\n      character,\n      profile_path,\n      id,\n    };\n  });\n};\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(\n    `/movie/${movieId}/reviews${API_KEY}&language=en-US&page=1`\n  );\n  return data.results.map(({ author, content, id }) => {\n    return {\n      author,\n      content,\n      id,\n    };\n  });\n};\n"],"names":["TrendList","movies","location","useLocation","className","css","map","movie","to","id","state","from","title","useSearchParams","searchParams","setSearchParams","useState","searchedMovies","setSearchMovies","error","setError","movieName","get","useEffect","fetchQuery","searchMovies","query","toast","onSubmit","event","preventDefault","target","elements","searchMovie","value","reset","type","autoComplete","name","autoFocus","placeholder","length","API_KEY","axios","getTrending","data","results","inputQuery","getMovieDetails","movieId","getMovieCredits","cast","character","profile_path","getMovieReviews","author","content"],"sourceRoot":""}